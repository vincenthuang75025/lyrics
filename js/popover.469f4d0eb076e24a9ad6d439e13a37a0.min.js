function htmlToElement(e){const t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.firstChild}function findHeaderWithoutPunctuation(s,o){let t=o.toLowerCase(),e=-1,n=!0;for(;n;)if(e=t.indexOf("<h4>",e+1),e==-1)n=!1;else{let o=t.indexOf("</h4>",e);if(o==-1)return-1;let i=t.substring(e+4,o).replace(/[.,/#!$'%^&*;:{}=\-_`~()]/g,"");i==s&&e>=7&&t.substring(e-7,e)=="&nbsp;\n"&&(n=!1)}return e}function initPopover(e,t,n){const s=e.replace(window.location.origin,"");fetchData.then(({content:e})=>{const o=[...document.getElementsByClassName("internal-link")];o.filter(e=>e.dataset.src||e.dataset.idx&&t).forEach(t=>{var o;if(t.dataset.ctx){const n=e[t.dataset.src],s=`<div class="popover">
    <h3>${n.title}</h3>
    <p>${highlight(removeMarkdown(n.content),t.dataset.ctx)}...</p>
</div>`;o=htmlToElement(s)}else{const n=e[t.dataset.src.replace(/\/$/g,"").replace(s,"")];if(n){let s=t.href.split("#"),e=removeMarkdown(n.content);if(s.length>1){let t=s[1].replace("-vyl-wnanory","").replace(/-/g," "),n=findHeaderWithoutPunctuation(t,e);e=e.substring(n,e.length)}const i=`<div class="popover">
    <h3>${n.title}</h3>
    <hr>
    <div>${e.split(" ",20).join(" ")} ...</div>
</div>`;o=htmlToElement(i)}}o&&(t.appendChild(o),n&&renderMathInElement(o,{delimiters:[{left:"$$",right:"$$",display:!1},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!1}],throwOnError:!1}),t.addEventListener("mouseover",()=>{window.FloatingUIDOM.computePosition(t,o,{middleware:[window.FloatingUIDOM.offset(10),window.FloatingUIDOM.inline(),window.FloatingUIDOM.shift()]}).then(({x:e,y:t})=>{Object.assign(o.style,{left:`${e}px`,top:`${t}px`})}),o.classList.add("visible")}),t.addEventListener("mouseout",()=>{o.classList.remove("visible")}))})})}